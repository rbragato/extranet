{% extends "base.html" %}
{% set title = "Prix" %}

{% block content %}
<section class="card card-wide">
  <div class="card-head">
    <h1>Prix</h1>
    <p>Cr√©e et supprime des couples <strong>libell√© / prix</strong>.</p>
  </div>
  <div style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;">
    <a class="btn ghost" href="{{ url_for('prices_invoice_pdf') }}">T√©l√©charger PDF</a>
  </div>


  <form method="post" action="{{ url_for('prices_create') }}" class="form form-inline">
    <label class="field">
      <span>Libell√©</span>
      <input name="label" required placeholder="Ex: Abonnement Pro">
    </label>

    <label class="field">
      <span>Prix (‚Ç¨)</span>
      <input name="price" required inputmode="decimal" placeholder="19.99">
    </label>

    <button class="btn primary" type="submit">Ajouter</button>
  </form>

  <div class="table">
    <div class="trow thead">
      <div>Libell√©</div>
      <div>Prix</div>
      <div></div>
    </div>

    {% for it in items %}
      <div class="trow" data-price-id="{{ it.id }}">
        <div class="label">{{ it.label }}</div>
        <div class="price">{{ "%.2f"|format(it.price) }} ‚Ç¨</div>
        <div class="actions">
          <button class="btn ghost danger js-delete" type="button">Supprimer</button>
        </div>
      </div>
    {% else %}
      <div class="empty">
        Rien pour l‚Äôinstant. Ajoute ton premier prix üëá
      </div>
    {% endfor %}
  </div>
</section>
{% endblock %}
